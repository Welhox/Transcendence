// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x"]
//  output        = "./generated/client"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

//the user data, including hashed password, and another table with OTP data
model User {
  id        Int    @id @default(autoincrement())
  username  String @unique
  password  String
  email     String @unique
  OTP       Otp[]
  language  String @default("en")
  wins      Int @default(0)
  losses    Int @default(0)
  played    Int @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Otp {
  id        Int @id @default(autoincrement())
  code      String
  expiresAt DateTime
  used      Boolean @default(false)

  userId    Int
  user      User  @relation(fields: [userId], references: [id])
}


//model Post {
//  id        Int      @id @default(autoincrement())
//  title     String   @db.VarChar(255)
//  createdAt DateTime @default(now()) @db.Timestamp(6)
//  content   String?
//  published Boolean  @default(false)
//  authorId  Int
//  author    User     @relation(fields: [authorId], references: [id], onDelete: NoAction, onUpdate: NoAction)
//}

//model Profile {
//  id     Int     @id @default(autoincrement())
//  bio    String?
//  userId Int     @unique
//  user   User    @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)
//}

//model User {
//  id      Int      @id @default(autoincrement())
//  name    String?  @db.VarChar(255)
//  email   String   @unique @db.VarChar(255)
//  posts   Post[]
//  profile Profile?
//}